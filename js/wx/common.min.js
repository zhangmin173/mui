if("undefined"==typeof jQuery)throw new Error("丢失jQuery库文件");+function(n){console.log("全局执行"),n.extend({init:function(){this.rem()},rem:function(){this.resize(function(){var e=n(window).width(),t=10;e>540&&(e=540),t*=e/320,n("html").css("font-size",t+"px")})},getUrlPara:function(n){var e=new RegExp("(^|&)"+n+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(e);return null!=t?unescape(t[2]):null},h5Show:function(e){var t=n.extend({},{navShow:!1,menuShow:!1,footerLinkShow:!1},e);t.navShow?n("#js-nav").show():n("#js-nav").hide(),t.menuShow?n("#js-menu").show():n("#js-menu").hide(),t.footerLinkShow?n("#js-footerLink").show():n("#js-footerLink").hide()},wxPay:function(n,e,t){wx.chooseWXPay({timestamp:n.timeStamp,nonceStr:n.nonceStr,package:n.package,signType:n.signType,paySign:n.paySign,success:function(){e()},fail:function(){t()},cancel:function(){t()},complete:function(){}})},wxShare:function(e){e=n.extend({title:"",desc:"",link:"",imgUrl:"",type:"link",dataUrl:"",trigger:function(){},complete:function(){},success:function(){},fail:function(){}},e),wx.ready(function(){var t={title:e.title,link:e.link,imgUrl:e.imgUrl,trigger:e.trigger,complete:e.complete,success:e.success,fail:e.fail};wx.onMenuShareAppMessage(n.extend(t,{desc:e.desc,type:e.type,dataUrl:e.dataUrl})),wx.onMenuShareTimeline(t),wx.onMenuShareQQ(n.extend(t,{desc:e.desc})),wx.onMenuShareWeibo(n.extend(t,{desc:e.desc}))})},mAjax:function(e,t,o){datas=n.extend({app_key:_global.app_key,access_token:_global.access_token,site_id:_global.site_info.id},t),console.log(datas),n.ajax({type:"post",url:e,dataType:"json",data:datas}).done(function(n){o(n)}).fail(function(){alert("本地请求失败")})},jsonP:function(e,t,o){datas=n.extend({app_key:_global.app_key,access_token:_global.access_token,site_id:_global.site_info.id},t),console.log(datas),n.ajax({type:"post",url:e,dataType:"jsonp",jsonp:"jsonpcalback",data:datas}).done(function(n){o(n)}).fail(function(){alert("跨域请求失败")})},resize:function(e){e(),n(window).on("resize",function(){e()})},render:function(n,e,t){t(template(n,e))},log:function(n){console.log(n)},form2Json:function(e){var t=n(e).serializeArray(),o={};return n.each(t,function(){o[this.name]?(o[this.name].push||(o[this.name]=[o[this.name]]),o[this.name].push(this.value||"")):o[this.name]=this.value||""}),console.log(o),o},getSelectVal:function(e){return n(e+" option:selected").val()},getCheckVal:function(e){var t=[];return n('input[name="'+e+'"]:checked').each(function(){t.push(n(this).val())}),t},regCheck:{def:function(n,e){return n.test(e)},userName:function(n){return/^[_A-Za-z0-9]{6,16}$/.test(n)},psw:function(n){return/^[\w~!@#$%^&*()_+{}:"<>?\-=[\];\',.\/A-Za-z0-9]{6,16}$/.test(n)},email:function(n){return/^([a-zA-Z0-9]|[._])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/.test(n)},telNum:function(n){return/^((0\d{2,3}-\d{7,8})|(1[3|5|4|7|8][0-9]\d{8}))$/.test(n)},mobile:function(n){return/^(1[3|4|5|7|8][0-9]\d{8})$/.test(n)},verify:function(n){return/^\d{6}$/.test(n)},CN:function(n){return/^[\u4E00-\u9FA5]+$/.test(n)},carsh:function(n){return/^\d*\.?\d+$/.test(n)}},format:{mobile:function(n){return n.substring(0,3)+"****"+n.substring(7)}},loadShow:function(){n("body").append('<div class="m-loading"><span></span><span></span><span></span></div>')},loadOver:function(){n(".m-loading").remove()},toTop:function(e){var t=n.extend({},{bottom:"6rem",str:'<a id="toTop" href="javascript:;" style="position:fixed;z-index:999;right:1.5rem;display:block;width:3rem;height:3rem;line-height:3rem;text-align:center;background-color:#f00;color:#fff;">↑</a>'},e);n("body").append(t.str);var o=n("#toTop");o.css("bottom",t.bottom),o.hide(),n(window).on("scroll",function(){n(window).scrollTop()>=200?o.fadeIn():o.stop(!0).fadeOut()}),o.css({bottom:t.bottom}),o.on("click",function(){return n("html, body").animate({scrollTop:0},500),!1})}}),n.init()}(jQuery);