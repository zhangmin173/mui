if("undefined"==typeof jQuery)throw new Error("丢失jQuery库文件");+function(n){n.extend({init:function(){this.rem()},getUrlPara:function(n){var e=new RegExp("(^|&)"+n+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(e);return null!=t?unescape(t[2]):null},wxPay:function(n,e,t){wx.chooseWXPay({timestamp:n.timeStamp,nonceStr:n.nonceStr,package:n.package,signType:n.signType,paySign:n.paySign,success:function(){e()},fail:function(){t()},cancel:function(){t()},complete:function(){}})},h5Show:function(e){var t=n.extend({},{navShow:!1,menuShow:!1,footerLinkShow:!1},e);t.navShow?n("#js-nav").show():n("#js-nav").hide(),t.menuShow?n("#js-menu").show():n("#js-menu").hide(),t.footerLinkShow?n("#js-footerLink").show():n("#js-footerLink").hide()},wxShare:function(e){e=n.extend({title:"",desc:"",link:"",imgUrl:"",type:"link",dataUrl:"",trigger:function(){},complete:function(){},success:function(){},fail:function(){}},e),wx.ready(function(){var t={title:e.title,link:e.link,imgUrl:e.imgUrl,trigger:e.trigger,complete:e.complete,success:e.success,fail:e.fail};wx.onMenuShareAppMessage(n.extend(t,{desc:e.desc,type:e.type,dataUrl:e.dataUrl})),wx.onMenuShareTimeline(t),wx.onMenuShareQQ(n.extend(t,{desc:e.desc})),wx.onMenuShareWeibo(n.extend(t,{desc:e.desc}))})},mAjax:function(e,t,o){datas=n.extend({app_key:_global.app_key,access_token:_global.access_token,site_id:_global.site_info.id},t),console.log(datas),n.ajax({type:"post",url:e,dataType:"json",data:datas}).done(function(n){o(n)}).fail(function(){alert("url:"+接口报错)})},jsonP:function(e,t,o){datas=n.extend({app_key:_global.app_key,access_token:_global.access_token,site_id:_global.site_info.id},t),n.ajax({type:"post",url:_global.url.api+e,dataType:"json",data:datas}).done(function(n){o(n)}).fail(function(){alert("url:"+接口报错)})},render:function(n,e,t){laytpl(n).render(e,function(n){t(n)})},rem:function(){this.resize(function(){var e=n(window).width(),t=10;e>540&&(e=540),t*=e/320,n("html").css("font-size",t+"px")})},log:function(n){console.log(n)},regCheck:{def:function(n,e){return n.test(e)},userName:function(n){return/^[_A-Za-z0-9]{6,16}$/.test(n)},psw:function(n){return/^[\w~!@#$%^&*()_+{}:"<>?\-=[\];\',.\/A-Za-z0-9]{6,16}$/.test(n)},email:function(n){return/^([a-zA-Z0-9]|[._])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/.test(n)},telNum:function(n){return/^((0\d{2,3}-\d{7,8})|(1[3|5|4|7|8][0-9]\d{8}))$/.test(n)},mobile:function(n){return/^(1[3|4|5|7|8][0-9]\d{8})$/.test(n)},verify:function(n){return/^\d{6}$/.test(n)},CN:function(n){return/^[\u4E00-\u9FA5]+$/.test(n)},carsh:function(n){return/^\d*\.?\d+$/.test(n)}},resize:function(e){e(),n(window).on("resize",function(){e()})},format:{mobile:function(n){return n.substring(0,3)+"****"+n.substring(7)}},toTop:function(e){var t=n.extend({},{pdBottom:"10px"},e);n("body").append(t.str);var o=n("#toTop");o.hide(),n(window).on("scroll",function(){n(window).scrollTop()>=200?o.fadeIn():o.stop(!0).fadeOut()}),o.css({bottom:t.pdBottom}),o.on("click",function(){return n("html, body").animate({scrollTop:0},500),!1})}}),n.init()}(jQuery);