!function(){function e(t,i){if(!(this instanceof e))return new e(t,i);this.html=t,this.opts=i;var s=document.createElement("div");s.className="olay";var o=document.createElement("div");o.className="layer",this.el=s,this.layer_el=o,this.init()}function t(e,t,i){iosSelectUtil.isArray(t)&&0!==t.length&&(this.data=t,this.level=e||1,this.options=i,this.typeBox="one-level-box",1===this.level?this.typeBox="one-level-box":2===this.level?this.typeBox="two-level-box":3===this.level?this.typeBox="three-level-box":4===this.level?this.typeBox="four-level-box":5===this.level&&(this.typeBox="five-level-box"),this.callback=i.callback,this.title=i.title||"",this.options.itemHeight=i.itemHeight||35,this.options.itemShowCount=-1!==[3,5,7,9].indexOf(i.itemShowCount)?i.itemShowCount:7,this.options.coverArea1Top=Math.floor(this.options.itemShowCount/2),this.options.coverArea2Top=Math.ceil(this.options.itemShowCount/2),this.options.headerHeight=i.headerHeight||44,this.options.relation=iosSelectUtil.isArray(this.options.relation)?this.options.relation:[],this.options.oneTwoRelation=this.options.relation[0],this.options.twoThreeRelation=this.options.relation[1],this.options.threeFourRelation=this.options.relation[2],this.options.fourFiveRelation=this.options.relation[3],"px"!==this.options.cssUnit&&"rem"!==this.options.cssUnit&&(this.options.cssUnit="px"),this.setBase(),this.init())}iosSelectUtil={isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"function"==typeof e},attrToData:function(e,t){var i={};for(var s in e.dataset)i[s]=e.dataset[s];return i.dom=e,i.atindex=t,i},attrToHtml:function(e){var t="";for(var i in e)t+="data-"+i+'="'+e[i]+'"';return t}},e.prototype={init:function(){this.layer_el.innerHTML=this.html,this.opts.container&&document.querySelector(this.opts.container)?document.querySelector(this.opts.container).appendChild(this.el):document.body.appendChild(this.el),this.el.appendChild(this.layer_el),this.el.style.height=Math.max(document.documentElement.getBoundingClientRect().height,window.innerHeight),this.opts.className&&(this.el.className+=" "+this.opts.className),this.bindEvent()},bindEvent:function(){for(var e=this.el.querySelectorAll(".sure"),t=this.el.querySelectorAll(".close"),i=this,s=0,o=e.length;s<o;s++)e[s].addEventListener("click",function(e){i.close()});for(var s=0,o=t.length;s<o;s++)t[s].addEventListener("click",function(e){i.close()})},close:function(){this.el&&(this.el.parentNode.removeChild(this.el),this.el=null)}},t.prototype={init:function(){this.initLayer(),this.selectOneObj={},this.selectTwoObj={},this.selectThreeObj={},this.selectFourObj={},this.selectFiveObj={},this.setOneLevel(this.options.oneLevelId,this.options.twoLevelId,this.options.threeLevelId,this.options.fourLevelId,this.options.fiveLevelId)},initLayer:function(){var t=this,i=['<header style="height: '+this.options.headerHeight+this.options.cssUnit+"; line-height: "+this.options.headerHeight+this.options.cssUnit+'" class="iosselect-header">','<h2 id="iosSelectTitle"></h2>','<a style="height: '+this.options.headerHeight+this.options.cssUnit+"; line-height: "+this.options.headerHeight+this.options.cssUnit+'" href="javascript:void(0)" class="close">鍙栨秷</a>','<a style="height: '+this.options.headerHeight+this.options.cssUnit+"; line-height: "+this.options.headerHeight+this.options.cssUnit+'" href="javascript:void(0)" class="sure">纭畾</a>',"</header>",'<section class="iosselect-box">','<div class="one-level-contain" id="oneLevelContain">','<ul class="select-one-level">',"</ul>","</div>",'<div class="two-level-contain" id="twoLevelContain">','<ul class="select-two-level">',"</ul>","</div>",'<div class="three-level-contain" id="threeLevelContain">','<ul class="select-three-level">',"</ul>","</div>",'<div class="four-level-contain" id="fourLevelContain">','<ul class="select-four-level">',"</ul>","</div>",'<div class="five-level-contain" id="fiveLevelContain">','<ul class="select-five-level">',"</ul>","</div>","</section>",'<hr class="cover-area1"/>','<hr class="cover-area2"/>','<div class="ios-select-loading-box" id="iosSelectLoadingBox">','<div class="ios-select-loading"></div>',"</div>"].join("\r\n");this.iosSelectLayer=new e(i,{className:"ios-select-widget-box "+this.typeBox+(this.options.addClassName?" "+this.options.addClassName:""),container:this.options.container||""}),this.iosSelectTitleDom=this.iosSelectLayer.el.querySelector("#iosSelectTitle"),this.iosSelectLoadingBoxDom=this.iosSelectLayer.el.querySelector("#iosSelectLoadingBox"),this.options.title&&(this.iosSelectTitleDom.innerHTML=this.options.title),this.options.headerHeight&&this.options.itemHeight&&(this.coverArea1Dom=this.iosSelectLayer.el.querySelector(".cover-area1"),this.coverArea1Dom.style.top=this.options.headerHeight+this.options.itemHeight*this.options.coverArea1Top+this.options.cssUnit,this.coverArea2Dom=this.iosSelectLayer.el.querySelector(".cover-area2"),this.coverArea2Dom.style.top=this.options.headerHeight+this.options.itemHeight*this.options.coverArea2Top+this.options.cssUnit),this.oneLevelContainDom=this.iosSelectLayer.el.querySelector("#oneLevelContain"),this.twoLevelContainDom=this.iosSelectLayer.el.querySelector("#twoLevelContain"),this.threeLevelContainDom=this.iosSelectLayer.el.querySelector("#threeLevelContain"),this.fourLevelContainDom=this.iosSelectLayer.el.querySelector("#fourLevelContain"),this.fiveLevelContainDom=this.iosSelectLayer.el.querySelector("#fiveLevelContain"),this.oneLevelUlContainDom=this.iosSelectLayer.el.querySelector(".select-one-level"),this.twoLevelUlContainDom=this.iosSelectLayer.el.querySelector(".select-two-level"),this.threeLevelUlContainDom=this.iosSelectLayer.el.querySelector(".select-three-level"),this.fourLevelUlContainDom=this.iosSelectLayer.el.querySelector(".select-four-level"),this.fiveLevelUlContainDom=this.iosSelectLayer.el.querySelector(".select-five-level"),this.iosSelectLayer.el.querySelector(".layer").style.height=this.options.itemHeight*this.options.itemShowCount+this.options.headerHeight+this.options.cssUnit,this.oneLevelContainDom.style.height=this.options.itemHeight*this.options.itemShowCount+this.options.cssUnit,this.offsetTop=document.body.scrollTop,document.body.classList.add("ios-select-body-class"),window.scrollTo(0,0),this.scrollOne=new IScroll("#oneLevelContain",{probeType:3,bounce:!1}),this.scrollOne.on("scrollStart",function(){Array.prototype.slice.call(t.oneLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")})}),this.scrollOne.on("scroll",function(){var e=Math.abs(this.y/t.baseSize)/t.options.itemHeight,i=1;i=Math.round(e)+1,Array.prototype.slice.call(t.oneLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")}),t.changeClassName(t.oneLevelContainDom,i)}),this.scrollOne.on("scrollEnd",function(){var e=Math.abs(this.y/t.baseSize)/t.options.itemHeight,i=1,s=0;Math.ceil(e)===Math.round(e)?(s=Math.ceil(e)*t.options.itemHeight*t.baseSize,i=Math.ceil(e)+1):(s=Math.floor(e)*t.options.itemHeight*t.baseSize,i=Math.floor(e)+1),t.scrollOne.scrollTo(0,-s,0),Array.prototype.slice.call(t.oneLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")});var o=t.changeClassName(t.oneLevelContainDom,i);t.selectOneObj=iosSelectUtil.attrToData(o,i),t.level>1&&1===t.options.oneTwoRelation&&t.setTwoLevel(t.selectOneObj.id,t.selectTwoObj.id,t.selectThreeObj.id,t.selectFourObj.id,t.selectFiveObj.id)}),this.scrollOne.on("scrollCancel",function(){var e=Math.abs(this.y/t.baseSize)/t.options.itemHeight,i=1,s=0;Math.ceil(e)===Math.round(e)?(s=Math.ceil(e)*t.options.itemHeight*t.baseSize,i=Math.ceil(e)+1):(s=Math.floor(e)*t.options.itemHeight*t.baseSize,i=Math.floor(e)+1),t.scrollOne.scrollTo(0,-s,0),Array.prototype.slice.call(t.oneLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")});var o=t.changeClassName(t.oneLevelContainDom,i);t.selectOneObj=iosSelectUtil.attrToData(o,i),t.level>1&&1===t.options.oneTwoRelation&&t.setTwoLevel(t.selectOneObj.id,t.selectTwoObj.id,t.selectThreeObj.id,t.selectFourObj.id,t.selectFiveObj.id)}),this.level>=2&&(this.twoLevelContainDom.style.height=this.options.itemHeight*this.options.itemShowCount+this.options.cssUnit,this.scrollTwo=new IScroll("#twoLevelContain",{probeType:3,bounce:!1}),this.scrollTwo.on("scrollStart",function(){Array.prototype.slice.call(t.twoLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")})}),this.scrollTwo.on("scroll",function(){var e=Math.abs(this.y/t.baseSize)/t.options.itemHeight,i=0;i=Math.round(e)+1,Array.prototype.slice.call(t.twoLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")}),t.changeClassName(t.twoLevelContainDom,i)}),this.scrollTwo.on("scrollEnd",function(){var e=Math.abs(this.y/t.baseSize)/t.options.itemHeight,i=1,s=0;Math.ceil(e)===Math.round(e)?(s=Math.ceil(e)*t.options.itemHeight*t.baseSize,i=Math.ceil(e)+1):(s=Math.floor(e)*t.options.itemHeight*t.baseSize,i=Math.floor(e)+1),t.scrollTwo.scrollTo(0,-s,0),Array.prototype.slice.call(t.twoLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")});var o=t.changeClassName(t.twoLevelContainDom,i);t.selectTwoObj=iosSelectUtil.attrToData(o,i),t.level>2&&1===t.options.twoThreeRelation&&t.setThreeLevel(t.selectOneObj.id,t.selectTwoObj.id,t.selectThreeObj.id,t.selectFourObj.id,t.selectFiveObj.id)}),this.scrollTwo.on("scrollCancel",function(){var e=Math.abs(this.y/t.baseSize)/t.options.itemHeight,i=1,s=0;Math.ceil(e)===Math.round(e)?(s=Math.ceil(e)*t.options.itemHeight*t.baseSize,i=Math.ceil(e)+1):(s=Math.floor(e)*t.options.itemHeight*t.baseSize,i=Math.floor(e)+1),t.scrollTwo.scrollTo(0,-s,0),Array.prototype.slice.call(t.twoLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")});var o=t.changeClassName(t.twoLevelContainDom,i);t.selectTwoObj=iosSelectUtil.attrToData(o,i),t.level>2&&1===t.options.twoThreeRelation&&t.setThreeLevel(t.selectOneObj.id,t.selectTwoObj.id,t.selectThreeObj.id,t.selectFourObj.id,t.selectFiveObj.id)})),this.level>=3&&(this.threeLevelContainDom.style.height=this.options.itemHeight*this.options.itemShowCount+this.options.cssUnit,this.scrollThree=new IScroll("#threeLevelContain",{probeType:3,bounce:!1}),this.scrollThree.on("scrollStart",function(){Array.prototype.slice.call(t.threeLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")})}),this.scrollThree.on("scroll",function(){var e=Math.abs(this.y/t.baseSize)/t.options.itemHeight,i=0;i=Math.round(e)+1,Array.prototype.slice.call(t.threeLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")}),t.changeClassName(t.threeLevelContainDom,i)}),this.scrollThree.on("scrollEnd",function(){var e=Math.abs(this.y/t.baseSize)/t.options.itemHeight,i=1,s=0;Math.ceil(e)===Math.round(e)?(s=Math.ceil(e)*t.options.itemHeight*t.baseSize,i=Math.ceil(e)+1):(s=Math.floor(e)*t.options.itemHeight*t.baseSize,i=Math.floor(e)+1),t.scrollThree.scrollTo(0,-s,0),Array.prototype.slice.call(t.threeLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")});var o=t.changeClassName(t.threeLevelContainDom,i);t.selectThreeObj=iosSelectUtil.attrToData(o,i),t.level>=4&&1===t.options.threeFourRelation&&t.setFourLevel(t.selectOneObj.id,t.selectTwoObj.id,t.selectThreeObj.id,t.selectFourObj.id,t.selectFiveObj.id)}),this.scrollThree.on("scrollCancel",function(){var e=Math.abs(this.y/t.baseSize)/t.options.itemHeight,i=1,s=0;Math.ceil(e)===Math.round(e)?(s=Math.ceil(e)*t.options.itemHeight*t.baseSize,i=Math.ceil(e)+1):(s=Math.floor(e)*t.options.itemHeight*t.baseSize,i=Math.floor(e)+1),t.scrollThree.scrollTo(0,-s,0),Array.prototype.slice.call(t.threeLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")});var o=t.changeClassName(t.threeLevelContainDom,i);t.selectThreeObj=iosSelectUtil.attrToData(o,i),t.level>=4&&1===t.options.threeFourRelation&&t.setFourLevel(t.selectOneObj.id,t.selectTwoObj.id,t.selectThreeObj.id,t.selectFourObj.id,t.selectFiveObj.id)})),this.level>=4&&(this.fourLevelContainDom.style.height=this.options.itemHeight*this.options.itemShowCount+this.options.cssUnit,this.scrollFour=new IScroll("#fourLevelContain",{probeType:3,bounce:!1}),this.scrollFour.on("scrollStart",function(){Array.prototype.slice.call(t.fourLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")})}),this.scrollFour.on("scroll",function(){var e=Math.abs(this.y/t.baseSize)/t.options.itemHeight,i=0;i=Math.round(e)+1,Array.prototype.slice.call(t.fourLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")}),t.changeClassName(t.fourLevelContainDom,i)}),this.scrollFour.on("scrollEnd",function(){var e=Math.abs(this.y/t.baseSize)/t.options.itemHeight,i=1,s=0;Math.ceil(e)===Math.round(e)?(s=Math.ceil(e)*t.options.itemHeight*t.baseSize,i=Math.ceil(e)+1):(s=Math.floor(e)*t.options.itemHeight*t.baseSize,i=Math.floor(e)+1),t.scrollFour.scrollTo(0,-s,0),Array.prototype.slice.call(t.fourLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")});var o=t.changeClassName(t.fourLevelContainDom,i);t.selectFourObj=iosSelectUtil.attrToData(o,i),t.level>=5&&1===t.options.fourFiveRelation&&t.setFiveLevel(t.selectOneObj.id,t.selectTwoObj.id,t.selectThreeObj.id,t.selectFourObj.id,t.selectFiveObj.id)}),this.scrollFour.on("scrollCancel",function(){var e=Math.abs(this.y/t.baseSize)/t.options.itemHeight,i=1,s=0;Math.ceil(e)===Math.round(e)?(s=Math.ceil(e)*t.options.itemHeight*t.baseSize,i=Math.ceil(e)+1):(s=Math.floor(e)*t.options.itemHeight*t.baseSize,i=Math.floor(e)+1),t.scrollFour.scrollTo(0,-s,0),Array.prototype.slice.call(t.fourLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")});var o=t.changeClassName(t.fourLevelContainDom,i);t.selectFourObj=iosSelectUtil.attrToData(o,i),t.level>=5&&1===t.options.fourFiveRelation&&t.setFiveLevel(t.selectOneObj.id,t.selectTwoObj.id,t.selectThreeObj.id,t.selectFourObj.id,t.selectFiveObj.id)})),this.level>=5&&(this.fiveLevelContainDom.style.height=this.options.itemHeight*this.options.itemShowCount+this.options.cssUnit,this.scrollFive=new IScroll("#fiveLevelContain",{probeType:3,bounce:!1}),this.scrollFive.on("scrollStart",function(){Array.prototype.slice.call(t.fiveLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")})}),this.scrollFive.on("scroll",function(){var e=Math.abs(this.y/t.baseSize)/t.options.itemHeight,i=0;i=Math.round(e)+1,Array.prototype.slice.call(t.fiveLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")}),t.changeClassName(t.fiveLevelContainDom,i)}),this.scrollFive.on("scrollEnd",function(){var e=Math.abs(this.y/t.baseSize)/t.options.itemHeight,i=1,s=0;Math.ceil(e)===Math.round(e)?(s=Math.ceil(e)*t.options.itemHeight*t.baseSize,i=Math.ceil(e)+1):(s=Math.floor(e)*t.options.itemHeight*t.baseSize,i=Math.floor(e)+1),t.scrollFive.scrollTo(0,-s,0),Array.prototype.slice.call(t.fiveLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")});var o=t.changeClassName(t.fiveLevelContainDom,i);t.selectFiveObj=iosSelectUtil.attrToData(o,i)}),this.scrollFive.on("scrollCancel",function(){var e=Math.abs(this.y/t.baseSize)/t.options.itemHeight,i=1,s=0;Math.ceil(e)===Math.round(e)?(s=Math.ceil(e)*t.options.itemHeight*t.baseSize,i=Math.ceil(e)+1):(s=Math.floor(e)*t.options.itemHeight*t.baseSize,i=Math.floor(e)+1),t.scrollFive.scrollTo(0,-s,0),Array.prototype.slice.call(t.fiveLevelContainDom.querySelectorAll("li")).forEach(function(e,t,i){e.classList.contains("at")?e.classList.remove("at"):e.classList.contains("side1")?e.classList.remove("side1"):e.classList.contains("side2")&&e.classList.remove("side2")});var o=t.changeClassName(t.fiveLevelContainDom,i);t.selectFiveObj=iosSelectUtil.attrToData(o,i)})),this.closeBtnDom=this.iosSelectLayer.el.querySelector(".close"),this.closeBtnDom.addEventListener("click",function(e){document.body.classList.contains("ios-select-body-class")&&document.body.classList.remove("ios-select-body-class"),window.scrollTo(0,t.offsetTop)}),this.selectBtnDom=this.iosSelectLayer.el.querySelector(".sure"),this.selectBtnDom.addEventListener("click",function(e){document.body.classList.contains("ios-select-body-class")&&document.body.classList.remove("ios-select-body-class"),window.scrollTo(0,t.offsetTop),t.callback&&t.callback(t.selectOneObj,t.selectTwoObj,t.selectThreeObj,t.selectFourObj,t.selectFiveObj)})},loadingShow:function(){this.options.showLoading&&(this.iosSelectLoadingBoxDom.style.display="block")},loadingHide:function(){this.iosSelectLoadingBoxDom.style.display="none"},getOneLevel:function(){return this.data[0]},setOneLevel:function(e,t,i,s,o){if(iosSelectUtil.isArray(this.data[0])){var l=this.getOneLevel();this.renderOneLevel(e,t,i,s,o,l)}else{if(!iosSelectUtil.isFunction(this.data[0]))throw new Error("data format error");this.loadingShow(),this.data[0](function(l){this.loadingHide(),this.renderOneLevel(e,t,i,s,o,l)}.bind(this))}},renderOneLevel:function(e,t,i,s,o,l){l.some(function(t,i,s){return t.id==e})||(e=l[0].id);var n="",a=0;n+=this.getWhiteItem(),l.forEach(function(t,i,s){t.id==e?(n+='<li style="height: '+this.options.itemHeight+this.options.cssUnit+"; line-height: "+this.options.itemHeight+this.options.cssUnit+';" '+iosSelectUtil.attrToHtml(t)+' class="at">'+t.value+"</li>",a=i+1):n+='<li style="height: '+this.options.itemHeight+this.options.cssUnit+"; line-height: "+this.options.itemHeight+this.options.cssUnit+';"'+iosSelectUtil.attrToHtml(t)+">"+t.value+"</li>"}.bind(this)),n+=this.getWhiteItem(),this.oneLevelUlContainDom.innerHTML=n,this.scrollOne.refresh(),this.scrollOne.scrollToElement("li:nth-child("+a+")",0),this.level>=2&&this.setTwoLevel(e,t,i,s,o);var c=this.changeClassName(this.oneLevelContainDom,a);this.selectOneObj=iosSelectUtil.attrToData(c,this.getAtIndexByPlast(a))},getTwoLevel:function(e){var t=[];return 1===this.options.oneTwoRelation?this.data[1].forEach(function(i,s,o){i.parentId===e&&t.push(i)}):t=this.data[1],t},setTwoLevel:function(e,t,i,s,o){if(iosSelectUtil.isArray(this.data[1])){var l=this.getTwoLevel(e);this.renderTwoLevel(e,t,i,s,o,l)}else{if(!iosSelectUtil.isFunction(this.data[1]))throw new Error("data format error");this.loadingShow(),this.data[1](e,function(l){this.loadingHide(),this.renderTwoLevel(e,t,i,s,o,l)}.bind(this))}},renderTwoLevel:function(e,t,i,s,o,l){var n=0;l.some(function(e,i,s){return e.id==t})||(t=l[0].id);var a="";a+=this.getWhiteItem(),l.forEach(function(e,i,s){e.id==t?(a+='<li style="height: '+this.options.itemHeight+this.options.cssUnit+"; line-height: "+this.options.itemHeight+this.options.cssUnit+';"'+iosSelectUtil.attrToHtml(e)+' class="at">'+e.value+"</li>",n=i+1):a+='<li style="height: '+this.options.itemHeight+this.options.cssUnit+"; line-height: "+this.options.itemHeight+this.options.cssUnit+';"'+iosSelectUtil.attrToHtml(e)+">"+e.value+"</li>"}.bind(this)),a+=this.getWhiteItem(),this.twoLevelUlContainDom.innerHTML=a,this.scrollTwo.refresh(),this.scrollTwo.scrollToElement(":nth-child("+n+")",0),this.level>=3&&this.setThreeLevel(e,t,i,s,o);var c=this.changeClassName(this.twoLevelContainDom,n);this.selectTwoObj=iosSelectUtil.attrToData(c,this.getAtIndexByPlast(n))},getThreeLevel:function(e,t){var i=[];return 1===this.options.twoThreeRelation?this.data[2].forEach(function(e,s,o){e.parentId===t&&i.push(e)}):i=this.data[2],i},setThreeLevel:function(e,t,i,s,o){if(iosSelectUtil.isArray(this.data[2])){var l=this.getThreeLevel(e,t);this.renderThreeLevel(e,t,i,s,o,l)}else{if(!iosSelectUtil.isFunction(this.data[2]))throw new Error("data format error");this.loadingShow(),this.data[2](e,t,function(l){this.loadingHide(),this.renderThreeLevel(e,t,i,s,o,l)}.bind(this))}},renderThreeLevel:function(e,t,i,s,o,l){var n=0;l.some(function(e,t,s){return e.id==i})||(i=l[0].id);var a="";a+=this.getWhiteItem(),l.forEach(function(e,t,s){e.id==i?(a+='<li style="height: '+this.options.itemHeight+this.options.cssUnit+"; line-height: "+this.options.itemHeight+this.options.cssUnit+';"'+iosSelectUtil.attrToHtml(e)+' class="at">'+e.value+"</li>",n=t+1):a+='<li style="height: '+this.options.itemHeight+this.options.cssUnit+"; line-height: "+this.options.itemHeight+this.options.cssUnit+';"'+iosSelectUtil.attrToHtml(e)+">"+e.value+"</li>"}.bind(this)),a+=this.getWhiteItem(),this.threeLevelUlContainDom.innerHTML=a,this.scrollThree.refresh(),this.scrollThree.scrollToElement(":nth-child("+n+")",0),this.level>=4&&this.setFourLevel(e,t,i,s,o);var c=this.changeClassName(this.threeLevelContainDom,n);this.selectThreeObj=iosSelectUtil.attrToData(c,this.getAtIndexByPlast(n))},getFourLevel:function(e,t,i){var s=[];return 1===this.options.threeFourRelation?this.data[3].forEach(function(e,t,o){e.parentId===i&&s.push(e)}):s=this.data[3],s},setFourLevel:function(e,t,i,s,o){if(iosSelectUtil.isArray(this.data[3])){var l=this.getFourLevel(e,t,i);this.renderFourLevel(e,t,i,s,o,l)}else{if(!iosSelectUtil.isFunction(this.data[3]))throw new Error("data format error");this.loadingShow(),this.data[3](e,t,i,function(l){this.loadingHide(),this.renderFourLevel(e,t,i,s,o,l)}.bind(this))}},renderFourLevel:function(e,t,i,s,o,l){var n=0;l.some(function(e,t,i){return e.id==s})||(s=l[0].id);var a="";a+=this.getWhiteItem(),l.forEach(function(e,t,i){e.id==s?(a+='<li style="height: '+this.options.itemHeight+this.options.cssUnit+"; line-height: "+this.options.itemHeight+this.options.cssUnit+';"'+iosSelectUtil.attrToHtml(e)+' class="at">'+e.value+"</li>",n=t+1):a+='<li style="height: '+this.options.itemHeight+this.options.cssUnit+"; line-height: "+this.options.itemHeight+this.options.cssUnit+';"'+iosSelectUtil.attrToHtml(e)+">"+e.value+"</li>"}.bind(this)),a+=this.getWhiteItem(),this.fourLevelUlContainDom.innerHTML=a,this.scrollFour.refresh(),this.scrollFour.scrollToElement(":nth-child("+n+")",0),this.level>=5&&this.setFiveLevel(e,t,i,s,o);var c=this.changeClassName(this.fourLevelContainDom,n);this.selectFourObj=iosSelectUtil.attrToData(c,this.getAtIndexByPlast(n))},getFiveLevel:function(e,t,i,s){var o=[];return 1===this.options.fourFiveRelation?this.data[4].forEach(function(e,t,i){e.parentId===s&&o.push(e)}):o=this.data[4],o},setFiveLevel:function(e,t,i,s,o){if(iosSelectUtil.isArray(this.data[4])){var l=this.getFiveLevel(e,t,i,s);this.renderFiveLevel(e,t,i,s,o,l)}else{if(!iosSelectUtil.isFunction(this.data[4]))throw new Error("data format error");this.loadingShow(),this.data[4](e,t,i,s,function(l){this.loadingHide(),this.renderFiveLevel(e,t,i,s,o,l)}.bind(this))}},renderFiveLevel:function(e,t,i,s,o,l){var n=0;l.some(function(e,t,i){return e.id==o})||(o=l[0].id);var a="";a+=this.getWhiteItem(),l.forEach(function(e,t,i){e.id==o?(a+='<li style="height: '+this.options.itemHeight+this.options.cssUnit+"; line-height: "+this.options.itemHeight+this.options.cssUnit+';"'+iosSelectUtil.attrToHtml(e)+' class="at">'+e.value+"</li>",n=t+1):a+='<li style="height: '+this.options.itemHeight+this.options.cssUnit+"; line-height: "+this.options.itemHeight+this.options.cssUnit+';"'+iosSelectUtil.attrToHtml(e)+">"+e.value+"</li>"}.bind(this)),a+=this.getWhiteItem(),this.fiveLevelUlContainDom.innerHTML=a,this.scrollFive.refresh(),this.scrollFive.scrollToElement(":nth-child("+n+")",0);var c=this.changeClassName(this.fiveLevelContainDom,n);this.selectFiveObj=iosSelectUtil.attrToData(c,this.getAtIndexByPlast(n))},getWhiteItem:function(){var e="";return e+='<li style="height: '+this.options.itemHeight+this.options.cssUnit+"; line-height: "+this.options.itemHeight+this.options.cssUnit+'"></li>',this.options.itemShowCount>3&&(e+='<li style="height: '+this.options.itemHeight+this.options.cssUnit+"; line-height: "+this.options.itemHeight+this.options.cssUnit+'"></li>'),this.options.itemShowCount>5&&(e+='<li style="height: '+this.options.itemHeight+this.options.cssUnit+"; line-height: "+this.options.itemHeight+this.options.cssUnit+'"></li>'),this.options.itemShowCount>7&&(e+='<li style="height: '+this.options.itemHeight+this.options.cssUnit+"; line-height: "+this.options.itemHeight+this.options.cssUnit+'"></li>'),e},changeClassName:function(e,t){var i;return 3===this.options.itemShowCount?(i=e.querySelector("li:nth-child("+(t+1)+")")).classList.add("at"):5===this.options.itemShowCount?((i=e.querySelector("li:nth-child("+(t+2)+")")).classList.add("at"),e.querySelector("li:nth-child("+(t+1)+")").classList.add("side1"),e.querySelector("li:nth-child("+(t+3)+")").classList.add("side1")):7===this.options.itemShowCount?((i=e.querySelector("li:nth-child("+(t+3)+")")).classList.add("at"),e.querySelector("li:nth-child("+(t+2)+")").classList.add("side1"),e.querySelector("li:nth-child("+(t+1)+")").classList.add("side2"),e.querySelector("li:nth-child("+(t+4)+")").classList.add("side1"),e.querySelector("li:nth-child("+(t+5)+")").classList.add("side2")):9===this.options.itemShowCount&&((i=e.querySelector("li:nth-child("+(t+4)+")")).classList.add("at"),e.querySelector("li:nth-child("+(t+3)+")").classList.add("side1"),e.querySelector("li:nth-child("+(t+2)+")").classList.add("side2"),e.querySelector("li:nth-child("+(t+5)+")").classList.add("side1"),e.querySelector("li:nth-child("+(t+6)+")").classList.add("side2")),i},getAtIndexByPlast:function(e){return e+Math.ceil(this.options.itemShowCount/2)},setBase:function(){if("rem"===this.options.cssUnit){var e=document.documentElement,t=window.getComputedStyle(e,null).fontSize;try{this.baseSize=/\d+(?:\.\d+)?/.exec(t)[0]}catch(e){this.baseSize=1}}else this.baseSize=1}},"undefined"!=typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd?define(function(){return t}):window.IosSelect=t}();