!function(o){var t;o.fn.scrollLoad=function(a){if("string"==typeof a)return o.fn.scrollLoad.methods[a](this);var e={url:"",model:"",thisID:"",pageSize:10,pageIndex:1,total:0,isOneShow:!0,initNoData:"暂无相关信息",noData:"没有查到数据!",queryParams:function(){return{}},onLoadSuccess:function(o){},onBeforeLoad:function(o){}};(t=o.extend(e,a)).thisID=o(this).attr("id"),t.pagination&&o(window).scroll(function(){var a=parseFloat(o(window).height())+parseFloat(o(window).scrollTop());o(document).height()<=a&&(t.total>t.pageIndex*t.pageSize?(t.pageIndex++,o("#"+t.thisID).scrollLoad("load")):1==t.isOneShow&&(o("#"+t.thisID).append(t.noData),t.isOneShow=!1))}),o(this).scrollLoad("load")},o.fn.MobilePageLoad.methods={load:function(a){var e=t.queryParams();e.offset=(t.pageIndex-1)*t.pageSize,e.limit=t.pageSize,Post(t.url,e,function(e){t.onBeforeLoad(e);try{if(void 0==e.total)return void laytpl(o("#"+t.model).html()).render(e,function(t){o(a).html(t)});t.total=e.total,0==e.total?o(a).html(t.initNoData):laytpl(o("#"+t.model).html()).render(e,function(t){o(a).append(t)})}catch(e){o(a).html(t.initNoData)}t.onLoadSuccess(e)})},reLoad:function(a){t.pageIndex=1,o(a).html(""),o(a).MobilePageLoad("load")}}}(jQuery);